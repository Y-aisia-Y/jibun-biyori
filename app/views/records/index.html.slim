.bg-gray-50.min-h-screen.py-8
  .max-w-2xl.mx-auto.px-6
    / ãƒ˜ãƒƒãƒ€ãƒ¼éƒ¨åˆ†
    .mb-8
      h1.text-3xl.font-bold.text-gray-800.mb-2.text-center
        | æ—¥è¨˜ä¸€è¦§
      p.text-sm.text-gray-500.text-center
        = "å…¨#{@records.count}ä»¶"

    / æ¤œç´¢ãƒ–ãƒ­ãƒƒã‚¯
    .relative.mb-6.z-50[data-controller="menu"]
      = form_with url: diary_records_path, method: :get, local: true do |f|
        .relative
          = f.text_field :q,
            value: params[:q],
            placeholder: "ğŸ” ã‚­ãƒ¼ãƒ¯ãƒ¼ãƒ‰ã§æ¤œç´¢",
            class: "w-full pl-4 pr-12 py-3 bg-white border border-gray-200 rounded-full shadow-sm focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent text-sm transition-all"
  
          button.absolute.right-2.top-1/2.transform.-translate-y-1/2.p-2.text-gray-400.hover:text-gray-600.rounded-full.hover:bg-gray-100.transition[
            type="button"
            data-action="click->menu#toggle"
          ]
            | â‹¯

      / ãƒ‰ãƒ­ãƒƒãƒ—ãƒ€ã‚¦ãƒ³ãƒ¡ãƒ‹ãƒ¥ãƒ¼(ãƒ‘ãƒ¼ã‚·ãƒ£ãƒ«)
      = render "shared/dropdown_menu", date: @date

    / æ—¥è¨˜ä¸€è¦§
    #timeline.relative.space-y-4[
      data-controller="timeline"
      data-timeline-current-hour-value=@current_hour
      data-timeline-current-minute-value=@current_minute
    ]

      - if @records.any?
        - @records.each do |record|
          = link_to edit_diary_record_path(record),
            class: "block bg-white rounded-xl border border-gray-200 p-4 hover:shadow-md transition"

            .text-xs.text-gray-400.mb-1.text-center
              = l record.recorded_date, format: :long

            .text-gray-800.leading-relaxed.text-sm.text-center
              = truncate(record.diary_memo, length: 120)
      - else
        .bg-white.rounded-xl.border.border-gray-200.p-6.text-center.text-gray-500
          | ã¾ã æ—¥è¨˜ãŒã‚ã‚Šã¾ã›ã‚“