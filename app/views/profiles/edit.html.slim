.section.max-w-xl.mx-auto.bg-white.rounded-xl.shadow-md.p-6
  h1.text-xl.font-semibold.mb-6 ãƒ—ãƒ­ãƒ•ã‚£ãƒ¼ãƒ«ç·¨é›†

  = form_with model: @user, url: profile_path, method: :patch, local: true do |f|
    .mb-4
      = f.label :avatar, "ãƒ—ãƒ­ãƒ•ã‚£ãƒ¼ãƒ«ç”»åƒ", class: "block font-semibold mb-2"
      = f.file_field :avatar, class: 'w-full border rounded px-3 py-2', accept: 'image/*', onchange: 'previewImage(this);'
      = f.hidden_field :avatar_cache
    
    .mb-4
      - if @user.avatar.present?
        = image_tag @user.avatar.url, class: "rounded-full object-cover border", id: "preview", style: "width: 100px; height: 100px;"
      - else
        .rounded-full.bg-gray-200.flex.items-center.justify-center.border id="preview" style="width: 100px; height: 100px;"
          span.text-4xl ğŸ‘¤

    .mb-4
      = f.label :nickname, "ãƒ‹ãƒƒã‚¯ãƒãƒ¼ãƒ ", class: "block font-semibold mb-1"
      = f.text_field :nickname, class: "w-full border rounded px-3 py-2"

    .mb-4
      = f.label :last_name, "å§“", class: "block font-semibold mb-1"
      = f.text_field :last_name, class: "w-full border rounded px-3 py-2"

    .mb-4
      = f.label :first_name, "å", class: "block font-semibold mb-1"
      = f.text_field :first_name, class: "w-full border rounded px-3 py-2"

    .flex.gap-4.mt-6
      = f.submit "ä¿å­˜ã™ã‚‹", class: "px-4 py-2 bg-blue-600 text-white rounded hover:bg-blue-700"
      = link_to "æˆ»ã‚‹", profile_path, class: "px-4 py-2 bg-gray-200 rounded hover:bg-gray-300"